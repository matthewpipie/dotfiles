#!/usr/bin/env ruby

buffer = ARGV.shift.dup

# allow bypass of transformations by prefixing with a space
if buffer[0] == ' '
    puts buffer[1..-1]
    exit
end

# quick cd'ing to parent dirs
buffer.sub!(/^cd(\.+)/) { "cd #{(['..'] * $1.size) * ?/} " }

puts buffer
